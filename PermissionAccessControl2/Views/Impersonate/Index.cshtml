@model List<ServiceLayer.UserServices.ListUsersDto>
@{
    ViewData["Title"] = "Users";
}

<table class="table">
    <tr>
        <th>User Name/Email</th>
        <th>User roles</th>
        <th>Company</th>
        <th>Linked tenant</th>
        <th></th>
    </tr>
    @foreach (var user in @Model)
    {
    <tr>
        <td>@user.UserName</td>
        <td>@user.RoleNames</td>
        <td>@user.CompanyName</td>
        <td>@user.LinkedTenantName</td>
        <td>
            <form asp-action="StartNormal" method="post">
                <!-- Input and Submit elements -->
                <input name="UserId" type="hidden" value="@user.UserId" />
                <input name="UserName" type="hidden" value="@user.UserName" />

                <button type="submit">Impersonate - their permissions</button>
            </form>
            <form asp-action="StartEnhanced" method="post">
                <!-- Input and Submit elements -->
                <input name="UserId" type="hidden" value="@user.UserId" />
                <input name="UserName" type="hidden" value="@user.UserName" />

                <button type="submit">Impersonate - your permissions</button>
            </form>
        </td>
    </tr>
    }
</table>
